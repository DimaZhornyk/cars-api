{"version":3,"sources":["config.js","Filter.js","static/car.png","static/edit.svg","static/delete.svg","CarDisplayComponent.js","CarModal.js","App.js","index.js"],"names":["API","Option","Select","Filter","action","fetchAllCars","useState","inputValue","setInputValue","selectedFilter","setSelectedFilter","style","display","justifyContent","onChange","value","width","disabled","margin","e","target","onClick","res","Number","parseInt","filter","CarDisplayComponent","car","deleteCar","onEditClick","backgroundColor","borderRadius","padding","maxWidth","maxHeight","src","carImage","alt","flexDirection","fontWeight","fontSize","height","alignSelf","manufacturer","model","color","toUpperCase","year","vin","editIcon","cursor","placement","trigger","content","danger","_id","$oid","deleteIcon","CarModal","visible","carData","addNewCar","editCar","visibleModal","setVisibleModal","useEffect","onFormSubmit","data","footer","onCancel","onOk","onFinish","preserve","initialValues","Item","label","name","required","type","htmlType","App","cars","setCars","currentModalCar","setCurrentModalCar","modalVisible","setModalVisible","fetchCars","axios","post","then","success","console","log","id","entry","setTimeout","map","data_to_set","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c887f1fc.chunk.js","sourcesContent":["export const SERVER_URL = 'http://localhost:9001';\r\nexport const API = `${SERVER_URL}/api`;","import React, {useState} from \"react\";\r\nimport {Input, Select, Button} from \"antd\";\r\n\r\n\r\nconst {Option} = Select;\r\n\r\nfunction Filter({action, fetchAllCars}) {\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n    const [selectedFilter, setSelectedFilter] = useState(\"\");\r\n\r\n    const handleSelectChange = (value) => {\r\n        setSelectedFilter(value);\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        if (inputValue === \"\")\r\n            fetchAllCars();\r\n        else {\r\n            let res = {}\r\n            if (selectedFilter === \"year\")\r\n                res[selectedFilter] = Number.parseInt(inputValue);\r\n            else\r\n                res[selectedFilter] = inputValue;\r\n            action({filter: res});\r\n        }\r\n    }\r\n\r\n    const onInputChange = (e) => {\r\n        setInputValue(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n            <Select onChange={handleSelectChange} style={{width: \"150px\"}}>\r\n                <Option value=\"manufacturer\">Manufacturer</Option>\r\n                <Option value=\"model\">Model</Option>\r\n                <Option value=\"year\">Year</Option>\r\n                <Option value=\"color\">Color</Option>\r\n            </Select>\r\n            <Input disabled={selectedFilter === \"\"} style={{width: \"40%\", margin: \"0px 15px\"}}\r\n                   onChange={onInputChange}/>\r\n            <Button disabled={selectedFilter === \"\"} onClick={handleSubmit}>Filter</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","export default __webpack_public_path__ + \"static/media/car.a4771928.png\";","export default __webpack_public_path__ + \"static/media/edit.249fb4c7.svg\";","export default __webpack_public_path__ + \"static/media/delete.86bb3836.svg\";","import React from \"react\";\r\nimport carImage from './static/car.png';\r\nimport editIcon from './static/edit.svg';\r\nimport deleteIcon from './static/delete.svg';\r\nimport {Popover, Button} from \"antd\";\r\n\r\nfunction CarDisplayComponent({car, deleteCar, onEditClick}) {\r\n\r\n\r\n    return (\r\n        <div style={{display: \"flex\", backgroundColor: \"white\", borderRadius: \"40px\", padding: \"10px 30px\", margin: \"10px 0\"}}>\r\n            <img\r\n                style={{borderRadius: \"40px\", maxWidth: \"150px\", maxHeight: \"150px\"}}\r\n                src={carImage}\r\n                alt={'car'}\r\n            />\r\n            <div style={{display: \"flex\", flexDirection: \"column\", width: '100%'}}>\r\n                <p style={{\r\n                    fontWeight: \"bolder\",\r\n                    fontSize: \"20px\",\r\n                    height: \"fit-content\",\r\n                    alignSelf: \"center\"\r\n                }}>{`${car.manufacturer} ${car.model}`}</p>\r\n                <div style={{margin: \"0 40px\"}}>\r\n                    <div style={{display: \"flex\", flexDirection: \"column\"}}>\r\n                        <div style={{display: \"flex\"}}>\r\n                        <span>\r\n                            <span>Color: </span>\r\n                            <span style={{color: car.color}}>{car.color.toUpperCase()}</span>\r\n                        </span>\r\n                            <span style={{margin: \"0 50px\"}}>{`Year: ${car.year}`}</span>\r\n                        </div>\r\n                        <p>{`VIN: ${car.vin}`}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"space-around\"}}>\r\n\r\n                <img src={editIcon} alt={'edit'} style={{cursor: \"pointer\"}} onClick={onEditClick}/>\r\n\r\n                <Popover placement={\"bottom\"} trigger={\"click\"}\r\n                         content={\r\n                             <div style={{display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}>\r\n                                 <span>Submit action</span>\r\n                                 <Button danger onClick={() => deleteCar(car._id.$oid)}>Submit</Button>\r\n                             </div>}>\r\n                    <img src={deleteIcon} alt={'delete'} style={{cursor: \"pointer\"}}/>\r\n                </Popover>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CarDisplayComponent","import React, {useEffect, useState} from \"react\";\r\nimport {Button, Modal, Form, Input, InputNumber} from \"antd\";\r\n\r\nfunction CarModal({visible, carData, addNewCar, editCar}) {\r\n    const [visibleModal, setVisibleModal] = useState(false)\r\n\r\n    useEffect(() => {\r\n            setVisibleModal(true)\r\n        }, [visible]\r\n    )\r\n\r\n    useEffect(() => {\r\n        setVisibleModal(false);\r\n    }, [])\r\n\r\n    const onFormSubmit = (data) => {\r\n        setVisibleModal(false);\r\n        if (carData === null)\r\n            addNewCar(data);\r\n        else\r\n            editCar(data, carData._id.$oid);\r\n    }\r\n\r\n    const getForm = () => {\r\n\r\n        return (\r\n            <Form key={carData === null ? 'form' : carData.vin} onFinish={onFormSubmit} preserve={false}\r\n                  initialValues={carData} style={{margin: \"20px 0 0 0\"}}>\r\n                <Form.Item label={\"Manufacturer\"} name={\"manufacturer\"} required>\r\n                    <Input/>\r\n                </Form.Item>\r\n                <Form.Item label={\"Model\"} name={\"model\"} required>\r\n                    <Input/>\r\n                </Form.Item>\r\n                <Form.Item label={\"Color\"} name={\"color\"} required>\r\n                    <Input/>\r\n                </Form.Item>\r\n                <Form.Item label={\"Year\"} name={\"year\"} required>\r\n                    <InputNumber/>\r\n                </Form.Item>\r\n                <Form.Item label={\"VIN\"} name={\"vin\"} required>\r\n                    <Input/>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        Submit\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n\r\n    const onModalOk = () => {\r\n        setVisibleModal(false)\r\n    }\r\n\r\n    const onModalCancel = () => {\r\n        setVisibleModal(false)\r\n    }\r\n\r\n    return (\r\n        <Modal footer={null} visible={visibleModal} onCancel={onModalCancel} onOk={onModalOk}>\r\n            {getForm()}\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default CarModal","import './App.css';\nimport React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {API} from \"./config\";\nimport {Button} from \"antd\";\nimport Filter from \"./Filter\";\nimport CarDisplayComponent from \"./CarDisplayComponent\";\nimport CarModal from \"./CarModal\";\n\nfunction App() {\n    const [cars, setCars] = useState([]);\n    const [currentModalCar, setCurrentModalCar] = useState(null);\n    const [modalVisible, setModalVisible] = useState(false);\n\n    useEffect(() => {\n        fetchCars();\n    }, [])\n\n    const fetchCars = () => {\n        axios.post(`${API}/get_cars`).then(res => {\n            if (res.data.success) setCars(res.data.cars);\n        })\n    }\n\n    const fetchFilteredCars = (filter) => {\n        axios.post(`${API}/get_cars`, filter).then(res => {\n            if (res.data.success) setCars(res.data.cars);\n            console.log(res.data.cars)\n        })\n    }\n\n    const addNewCar = (data) => {\n        axios.post(`${API}/add_car`, data).then(res => {\n            if (res.data.success) fetchCars()\n        })\n    }\n\n    const editCar = (data, id) => {\n        axios.post(`${API}/edit_car`, {id: id, data_to_set: data}).then(res => {\n            if (res.data.success) fetchCars()\n        })\n    }\n\n    const deleteCar = (_id) => {\n        console.log(_id)\n        axios.post(`${API}/delete_car`, {id: _id}).then(res => {\n            if (res.data.success)\n                setCars(cars.filter(entry => entry._id.$oid !== _id))\n        })\n    }\n\n    const onEditClick = (car) => {\n        setCurrentModalCar(car);\n        setModalVisible(true);\n        setTimeout(() => setModalVisible(false), 0)\n    }\n\n    return (\n        <>\n            <div style={{display: \"flex\", justifyContent: \"center\"}}>\n                <div style={{display: \"flex\", flexDirection: \"column\", width: \"70%\"}}>\n                    <Button type={\"dashed\"} style={{margin: \"40px\"}} onClick={() => {\n                        setCurrentModalCar(null);\n                        setModalVisible(true);\n                        setTimeout(() => setModalVisible(false), 0)\n                    }}>Add new car</Button>\n                    <Filter action={fetchFilteredCars} fetchAllCars={fetchCars}/>\n                    {cars.map((car) => (\n                        <CarDisplayComponent car={car} deleteCar={deleteCar} onEditClick={() => onEditClick(car)}\n                                             key={car.vin}/>))}\n                </div>\n            </div>\n            <CarModal carData={currentModalCar} visible={modalVisible} addNewCar={addNewCar} editCar={editCar}/>\n        </>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}